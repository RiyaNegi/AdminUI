(this.webpackJsonpadminui=this.webpackJsonpadminui||[]).push([[0],{170:function(e,t,n){},190:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},333:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(23),r=n.n(c),i=(n(170),n(89)),o=n(40),u=n(44),s=n(148),d=n.n(s),j=n(149),b=n.n(j),O=[{text:"Admin",value:"admin"},{text:"Member",value:"member"}],f=n(15),h=Object(a.createContext)(),m=function(e){var t=e.children,n=Object(a.useState)(),l=Object(u.a)(n,2),c=l[0],r=l[1],s=Object(a.useState)(null),j=Object(u.a)(s,2),O=j[0],m=j[1],v=Object(a.useState)(null),x=Object(u.a)(v,2),g=x[0],p=x[1],C=Object(a.useState)([]),y=Object(u.a)(C,2),k=y[0],S=y[1],w=Object(a.useState)(!1),E=Object(u.a)(w,2),I=E[0],R=E[1],L=Object(a.useState)(null),N=Object(u.a)(L,2),F=N[0],M=N[1],D=Object(a.useState)({}),z=Object(u.a)(D,2),A=z[0],K=z[1],V=Object(a.useState)(null),B=Object(u.a)(V,2),J=B[0],Z=B[1],P=Object(a.useState)(null),$=Object(u.a)(P,2),q=$[0],G=$[1],H=function(){m(null),S([])},Q=function(){R(!1),M(null),K(null),Z(!1)},T=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())};return Object(a.useEffect)((function(){d.a.get("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json").then((function(e){var t=e.data.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{key:b()()})}));r(t)}))}),[]),Object(a.useEffect)((function(){K(Object(o.a)(Object(o.a)({},A),{},{key:null===F||void 0===F?void 0:F.key}))}),[F]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(h.Provider,{value:{data:c,handleChange:function(e,t,n){m(t),p(n)},clearFilters:H,filteredInfo:O,sortedInfo:g,handleInputChange:function(e){var t=c.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.email.toLowerCase().includes(e.target.value.toLowerCase())||t.role.toLowerCase().includes(e.target.value.toLowerCase())}));G(t)},onSelectChange:function(e){S(e)},selectedRows:k,onDelete:function(){var e=c.filter((function(e){return!k.includes(e.key)}));r(e),G(e),H()},isModalVisible:I,showModal:function(){R(!0)},handleOk:function(){R(!1),M(null),K(null),Z(!1)},handleCancel:Q,record:F,form:A,setRecord:M,onEditRow:function(e,t){e.preventDefault(),K(Object(o.a)(Object(o.a)({},A),{},Object(i.a)({},t,e.target.value)))},OnSubmitForm:function(){if(A.email&&T(A.email)||!A.email){var e=c.find((function(e){return e.key===A.key})),t=c,n=t.findIndex((function(e){return e.key===A.key}));t[n]=Object(o.a)(Object(o.a)({},e),A),G(t),Q()}else T(A.email)||Z("Enter valid email")},onEditRole:function(e){K(Object(o.a)(Object(o.a)({},A),{},{role:e}))},error:J,searchedList:q},children:t})})},v=n(336),x=(n(190),v.a.Search),g=function(){var e=Object(a.useContext)(h).handleInputChange;return Object(f.jsx)("div",{className:"search-bar ",children:Object(f.jsx)(x,{placeholder:"input search text",onChange:function(t){return e(t)},enterButton:!0})})},p=n(29),C=n(335),y=(n(127),n(192),n(193),n(75)),k=n(337),S=y.a.Option,w=function(e){var t=e.recordKey,n=Object(a.useContext)(h),l=n.showModal,c=n.isModalVisible,r=n.handleCancel,i=n.record,o=n.form,u=n.onEditRow,s=n.OnSubmitForm,d=n.setRecord,j=n.onEditRole,b=n.error;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p.a,{type:"primary",onClick:function(){return d(t),l()},children:"Edit"}),Object(f.jsxs)(k.a,{visible:c,onOk:function(){return s()},onCancel:r,children:[Object(f.jsx)("h3",{children:"Email"}),Object(f.jsx)(v.a,{value:(null===o||void 0===o?void 0:o.email)||(null===i||void 0===i?void 0:i.email),onChange:function(e){return u(e,"email")},className:"input-bar"}),b&&Object(f.jsx)("small",{style:{color:"red"},children:b}),Object(f.jsx)("h3",{children:"Name"}),Object(f.jsx)(v.a,{value:(null===o||void 0===o?void 0:o.name)||(null===i||void 0===i?void 0:i.name),onChange:function(e){return u(e,"name")},className:"input-bar"}),Object(f.jsx)("h3",{children:"Role"}),Object(f.jsxs)(y.a,{value:(null===o||void 0===o?void 0:o.role)||(null===i||void 0===i?void 0:i.role),onChange:function(e){return j(e)},className:"input-bar input-select",children:[O.map((function(e){return Object(f.jsx)(S,{value:e.value,children:e.text})})),")"," "]})]})]})},E=function(){var e=Object(a.useContext)(h),t=e.data,n=e.filteredInfo,l=e.sortedInfo,c=e.handleChange,r=e.onSelectChange,i=e.selectedRows,o=e.onDelete,u=(e.setRecord,e.searchedList),s=[{title:"Name",dataIndex:"name",key:"name",ellipsis:!0},{title:"Email",dataIndex:"email",key:"email",ellipsis:!0},{title:"Role",dataIndex:"role",key:"role",filters:O,filteredValue:(null===n||void 0===n?void 0:n.role)||null,onFilter:function(e,t){return t.role.includes(e)},sorter:function(e,t){return e.role.length-t.role.length},sortOrder:"role"===(null===l||void 0===l?void 0:l.columnKey)&&(null===l||void 0===l?void 0:l.order),ellipsis:!0},{title:"Edit",dataIndex:"edit",key:"edit",render:function(e,t){return Object(f.jsx)(w,{recordKey:t})}}],d=i.length>0,j={selectedRows:i,onChange:r};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p.a,{type:"primary",onClick:o,disabled:!d,children:"Delete"}),Object(f.jsx)("span",{style:{marginLeft:8},children:d?"Selected ".concat(i.length," items"):""}),Object(f.jsx)(C.a,{columns:s,rowSelection:j,dataSource:u||t,onChange:c})]})},I=function(){return Object(f.jsxs)("div",{className:"data-body",children:[Object(f.jsx)(g,{}),Object(f.jsx)("div",{className:"data-table",children:Object(f.jsx)(E,{})})]})};var R=function(){return Object(f.jsx)(m,{children:Object(f.jsx)(I,{})})};r.a.render(Object(f.jsx)(l.a.StrictMode,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))}},[[333,1,2]]]);
//# sourceMappingURL=main.d26b8134.chunk.js.map